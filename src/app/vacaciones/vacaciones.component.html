<h2>ğŸŒ´ Control de Vacaciones</h2>

<div class="form">

  <!-- EMPLEADO -->
  <label>Empleado:</label>
  <select [(ngModel)]="empleadoId" (change)="seleccionarEmpleado(empleadoId)">
    <option value="" disabled selected>Seleccione un empleado</option>
    <option *ngFor="let e of empleados" [value]="e.id">
      {{ e.nombre }} ({{ e.cedula }})
    </option>
  </select>

  <!-- FECHAS -->
  <label>Desde:</label>
  <input type="date" [(ngModel)]="fechaInicio">

  <label>Hasta:</label>
  <input type="date" [(ngModel)]="fechaFin">

  <!-- DIAS -->
  <label>Cantidad de dÃ­as:</label>
  <input type="number" [(ngModel)]="diasSolicitados" min="1">

  <!-- OBSERVACION -->
  <label>ObservaciÃ³n:</label>
  <textarea [(ngModel)]="observacion"></textarea>

  <button class="btn-guardar" (click)="registrar()" [disabled]="!diasSolicitados || diasSolicitados <= 0">
    ğŸ’¾ Guardar
  </button>
</div>

<hr>

<!-- RESULTADOS -->
<h3>Solicitudes del empleado</h3>

<div *ngIf="!empleadoSeleccionado">
  <p>Seleccione un empleado para ver las solicitudes.</p>
</div>

<table border="1" *ngIf="empleadoSeleccionado && solicitudes.length > 0">
  <thead>
    <tr>
      <th>Periodo</th>
      <th>Desde</th>
      <th>Hasta</th>
      <th>DÃ­as</th>
      <th>ObservaciÃ³n</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let s of solicitudes">
      <td>{{ s.periodo }}</td>
      <td>{{ s.fechaInicio }}</td>
      <td>{{ s.fechaFin }}</td>
      <td>{{ s.diasSolicitados }}</td>
      <td>{{ s.observacion }}</td>
      <td>
        <button (click)="eliminarSolicitud(s.id)">ğŸ—‘ï¸ Eliminar</button>
      </td>
    </tr>
  </tbody>
</table>

<p *ngIf="empleadoSeleccionado && solicitudes.length === 0">
  No hay solicitudes registradas.
</p>